(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4040c229"],{"5d2f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container px-0"},[a("h1",{staticClass:"text-center font-weight-bolder "},[t._v("\n      بازار اصلی\n    ")]),t._v(" "),a("h3",{staticClass:"text-center font-weight-bolder"},[t._v(t._s(t.tradename))]),t._v(" "),3!==t.id&&t.load?a("VueTradingView",{attrs:{options:{symbol:""+t.trade,theme:"light"}}}):t._e(),t._v(" "),a("br"),a("br"),t._v(" "),a("div",{staticClass:"row no-gutters  text-center",staticStyle:{width:"90%",margin:"auto"}},[a("div",{staticClass:"d-flex col-md flex-column py-4 alert-success",staticStyle:{padding:"15px"}},[a("b-input",{attrs:{placeholder:"مقدار"},on:{input:function(e){return t.bchecktotal()}},model:{value:t.bamount,callback:function(e){t.bamount=e},expression:"bamount"}}),a("br"),t._v(" "),a("b-input",{attrs:{placeholder:"قیمت"},on:{input:function(e){return t.bchecktotal()}},model:{value:t.bprice,callback:function(e){t.bprice=e},expression:"bprice"}}),a("br"),t._v(" "),a("b-input",{attrs:{readonly:"",placeholder:"مجموع"},model:{value:t.btotal,callback:function(e){t.btotal=e},expression:"btotal"}}),a("br"),t._v(" "),a("h5",{staticStyle:{width:"100%","text-align":"right"}},[t._v(" موجودی: "+t._s(t.sbalance)+"  ")]),t._v(" "),a("h5",{staticStyle:{width:"100%","text-align":"right"}},[t._v("پایین‌ترین پیشنهاد فروش: "+t._s(t.smin)+" "),a("button",{staticClass:"btn btn-dark btnn",on:{click:function(e){return t.entsmin()}}},[t._v("انتخاب")])]),t._v(" "),a("b-btn",{attrs:{variant:"success"},on:{click:function(e){return t.buysubmit()}}},[t._v("خرید")])],1),t._v(" "),a("div",{staticStyle:{width:"5%"}}),t._v(" "),a("div",{staticClass:"d-flex col-md flex-column py-4 alert-danger",staticStyle:{padding:"15px"}},[a("b-input",{attrs:{placeholder:"مقدار"},on:{input:function(e){return t.schecktotal()}},model:{value:t.samount,callback:function(e){t.samount=e},expression:"samount"}}),a("br"),t._v(" "),a("b-input",{attrs:{placeholder:"قیمت"},on:{input:function(e){return t.schecktotal()}},model:{value:t.sprice,callback:function(e){t.sprice=e},expression:"sprice"}}),a("br"),t._v(" "),a("b-input",{attrs:{readonly:"",placeholder:"مجموع"},model:{value:t.stotal,callback:function(e){t.stotal=e},expression:"stotal"}}),a("br"),t._v(" "),a("h5",{staticStyle:{width:"100%","text-align":"right"}},[t._v("موجودی: "+t._s(t.bbalance)+" ")]),t._v(" "),a("h5",{staticStyle:{width:"100%","text-align":"right"}},[t._v("بالاترین پیشنهاد خرید: "+t._s(t.bmax)+" "),a("button",{staticClass:"btn btn-dark btnn",on:{click:function(e){return t.entbmax()}}},[t._v("انتخاب")])]),t._v(" "),a("b-btn",{attrs:{variant:"danger"},on:{click:function(e){return t.sellsubmit()}}},[t._v("فروش")])],1)]),a("br"),a("br"),t._v(" "),a("div",{staticClass:"row no-gutters  text-center",staticStyle:{width:"90%",margin:"auto"}},[a("div",{staticClass:"d-flex col-md flex-column py-4 alert-danger",staticStyle:{padding:"0!important"}},[a("h4",{staticClass:"btn-danger",staticStyle:{"text-align":"center",width:"100%",height:"40px",padding:"5px",margin:"0"}},[t._v("پیشنهاد های فروش")]),t._v(" "),a("table",{staticClass:"table table-striped"},[t._m(0),t._v(" "),a("tbody",t._l(t.selltrades,(function(e,n){return a("tr",{key:n},[a("th",{attrs:{scope:"row"}},[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.price))]),t._v(" "),a("td",[t._v(t._s(e.amount))]),t._v(" "),a("td",[t._v(t._s(e.amount*e.price))])])})),0)])]),t._v(" "),a("div",{staticStyle:{width:"5%"}}),t._v(" "),a("div",{staticClass:"d-flex col-md flex-column py-4 alert-success",staticStyle:{padding:"0!important"}},[a("h4",{staticClass:"btn-success",staticStyle:{"text-align":"center",width:"100%",height:"40px",padding:"5px",margin:"0"}},[t._v("پیشنهاد های خرید")]),t._v(" "),a("table",{staticClass:"table table-striped"},[t._m(1),t._v(" "),a("tbody",t._l(t.buytrades,(function(e,n){return a("tr",{key:n},[a("th",{attrs:{scope:"row"}},[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.price))]),t._v(" "),a("td",[t._v(t._s(e.amount))]),t._v(" "),a("td",[t._v(t._s(e.amount*e.price))])])})),0)])])]),t._v(" "),a("div",{staticStyle:{height:"150px"}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("قیمت")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("مقدار")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("مبلغ کل")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("قیمت")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("مقدار")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("مبلغ کل")])])])}],i=a("bc3a"),r=a.n(i),c=a("b01b"),l={name:"pages-pricing",metaInfo:{title:"Pricing - Pages"},data:()=>({tradename:"",trade:"",sbalance:0,bbalance:0,bmax:0,smin:0,load:!1,id:0,buytrades:[],selltrades:[],bamount:"",samount:"",bprice:"",sprice:"",btotal:0,stotal:0}),mounted(){this.gettrade(),this.gettradebuyorders(),this.gettradesellorders(),this.gettradeinfo()},methods:{async gettrade(){await r.a.post("/maintrades/"+this.$route.params.id).then(t=>{this.trade=String(t.data[0].brand),this.tradename=t.data[0].name,3!==parseInt(this.$route.params.id)&&(this.load=!0)}).catch(()=>{})},async sellsubmit(){const t={price:this.sprice,amount:this.samount};await r.a.post("/maintradesellorders/"+this.$route.params.id,t).then(t=>{location.reload()}).catch(t=>{console.log(t),this.$swal('<div class="swal2-icon swal2-error swal2-icon-show" style="display: flex;"><span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span></div><h5>موجودی کافی نیست</h5>')})},async buysubmit(){const t={price:this.bprice,amount:this.bamount};await r.a.post("/maintradebuyorders/"+this.$route.params.id,t).then(t=>{location.reload()}).catch(()=>{this.$swal('<div class="swal2-icon swal2-error swal2-icon-show" style="display: flex;"><span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span></div><h5>موجودی کافی نیست</h5>')})},async gettradebuyorders(){await r.a.get("/maintradebuyorders/"+this.$route.params.id).then(t=>{this.buytrades=t.data}).catch(()=>{})},async gettradesellorders(){await r.a.get("/maintradesellorders/"+this.$route.params.id).then(t=>{this.selltrades=t.data}).catch(()=>{})},async gettradeinfo(){await r.a.get("/maintradesinfo/"+this.$route.params.id).then(t=>{this.sbalance=t.data.sbalance.toFixed(0),this.bbalance=t.data.bbalance,this.bmax=t.data.bmax,this.smin=t.data.smin}).catch(()=>{})},entsmin(){this.bprice=this.smin},entbmax(){this.sprice=this.bmax},bchecktotal(){this.btotal=this.bprice*this.bamount},schecktotal(){this.stotal=this.sprice*this.samount}},components:{VueTradingView:c["a"]}},o=l,d=(a("5e01"),a("2877")),u=Object(d["a"])(o,n,s,!1,null,null,null);e["default"]=u.exports},"5e01":function(t,e,a){"use strict";a("cbbe")},b01b:function(t,e,a){"use strict";(function(t){(function(){if("undefined"!==typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style"),a="";e.type="text/css",e.styleSheet?e.styleSheet.cssText=a:e.appendChild(document.createTextNode(a)),t.appendChild(e)}})();var a="tradingview-widget-script",n="vue-trading-view",s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:t.container_id}})},staticRenderFns:[],name:"VueTradingView",data:function(){return{container_id:n}},props:{options:String},methods:{canUseDOM:function(){return"undefined"!==typeof window&&window.document&&window.document.createElement},getScriptElement:function(){return document.getElementById(a)},updateOnloadListener:function(t){var e=this.getScriptElement(),a=e.onload;return e.onload=function(){a(),t()}},scriptExists:function(){return null!==this.getScriptElement()},appendScript:function(t){if(this.canUseDOM()){if(this.scriptExists())return"undefined"===typeof TradingView?void this.updateOnloadListener(t):void t();var e=document.createElement("script");e.id=a,e.type="text/javascript",e.async=!0,e.src="https://s3.tradingview.com/tv.js",e.onload=t,document.getElementsByTagName("head")[0].appendChild(e)}else t()},initWidget:function(){"undefined"!==typeof TradingView&&new window.TradingView.widget(Object.assign({container_id:this.container_id},this.options))}},mounted:function(){this.appendScript(this.initWidget)}};function i(t){i.installed||(i.installed=!0,t.component("VueTradingView",s))}var r={install:i},c=null;"undefined"!==typeof window?c=window.Vue:"undefined"!==typeof t&&(c=t.Vue),c&&c.use(r),e["a"]=s}).call(this,a("c8ba"))},cbbe:function(t,e,a){}}]);
//# sourceMappingURL=chunk-4040c229.b6794ba6.js.map